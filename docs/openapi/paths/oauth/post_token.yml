---
post:
  tags:
    - Authentication
  security: []
  summary: Login with email
  description: |-
    Request an Access Token using either a client-side obtained OAuth 2.0
    authorization code or a server-side JWT assertion.

    You will then send this code to this endpoint to exchange it for
    an Access Token. The returned Access Token can then be used to to make
    Survey API calls.
  requestBody:
    required: true
    description: |-
      A request body for request a new OAuth 2.0 Token.

      Depend on the grant_type (`password`, `refresh_token`) you will need to use different attributes.
    content:
      application/json:
        schema:
          oneOf:
            - $ref: '../../schemas.yml#/requests_oauth_post_login_email'
            - $ref: '../../schemas.yml#/requests_oauth_post_refresh_token'

  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            $ref: '../../schemas.yml#/responses_oauth_post_token'

    default:
      description: Error
      content:
        application/json:
          example:
            errors:
              - code: 'invalid_request'
                detail: 'The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed.'
          schema:
            $ref: '../../schemas.yml#/error'
